<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.springboot.storage.mapper.StorageMapper">
    <resultMap id="result" type="com.springboot.storage.entity.Article">

        <!--对表字段进行定义-->
        <result property="id" column="id"></result>
        <result property="num" column="num"></result>
        <result property="name" column="name"></result>
        <result property="price" column="price"></result>
        <result property="weight" column="weight"></result>
        <result property="produce" column="produce"></result>
        <result property="save" column="save"></result>
        <result property="date" column="date"></result>
        <result property="recorder" column="recorder"></result>

    </resultMap>

    <!--查询所有的方法-->
    <select id="ListArticle" resultMap="result">
        select * from article;
    </select>

    <!--通过物品num查找物品-->
    <select id="findById" parameterType="String" resultMap="result">
        select * from article where num=#{num};
    </select>

    <!--分页查询-->
    <select id="queryPage" parameterType="Integer" resultMap="result">
        select * from article order by id desc limit #{startRows},5;
    </select>

    <!--查询物品的总条数-->
    <select id="getRowsCount" resultType="Integer">/*返回值类型是Integer*/
        select count(*) from article;
    </select>

    <!--插入数据-->
    <insert id="InsertRow" parameterType="com.springboot.storage.entity.Article">
        insert into article(id,num,name,price,weight,produce,save,date,recorder)
        values
        (
        #{id},#{num},#{name},#{price},#{weight},#{produce},#{save},#{date}, #{recorder}
        );
    </insert>

    <!--删除-->
    <delete id="DeleteRow" parameterType="int">
        delete from article where id=#{id};
    </delete>

    <!--更新-->
    <update id="UpdateRow" parameterType="com.springboot.storage.entity.Article">
        update article
            set article.num=#{num},
                article.name=#{name},
                article.price=#{price},
                article.weight=#{weight},
                article.produce=#{produce},
                article.save=#{save},
                article.date=#{date},
                article.recorder=#{recorder}
                    where article.id=#{id};
    </update>

</mapper>